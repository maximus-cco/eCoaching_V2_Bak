@{
    Layout = null;
}

<div class="panel panel-default">
    <div class="panel-body">
        <div class="dataTable_wrapper">
            <table class="tables table-hover table-bordered" id="tbl-report" style="font-size: 0.8em;width:100%">
                <thead>
                    <tr>
                        <th data-orderable="false">Employee Level ID</th> 
                        <th data-orderable="false">Employee Level</th>
                        <th data-orderable="false">Form Name</th>
                        <th data-orderable="false">Last Known Status</th>
                        <th data-orderable="false">Action</th>
                        <th data-orderable="false">Action Date</th>
                        <th data-orderable="false">Requester ID</th>
                        <th data-orderable="false">Requester Name</th>
                        <th data-orderable="false">Assigned To ID</th>
                        <th data-orderable="false">Assigned To Name</th>
                        <th data-orderable="false">Reason</th>
                        <th data-orderable="false">Requester Comments</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        var length = $('#PageSize').val();
        $(".please-wait").slideDown(500);
        var logActivityTbl = $('#tbl-report').DataTable({
            //ordering: false,
            renderer: "bootstrap",
            autowidth: false,
            language: {
                processing: "<span>Loading...... Please wait...</span>",
                emptyTable: "No data found."
            },
            processing: true,
            serverSide: true,       // Process server side
            filter: false,          // Disable filter (search box)
            pageLength: length,
            ajax: {
                url: '@Url.Action("GetData")',
                type: "POST",
                datatype: "json",
                data: {
                    type:       $('#select-type option:selected').text(),
                    action:     $('#select-action option:selected').text(),
                    log:        $('#select-log option:selected').text(),
                    startDate:  $('#StartDate').val(),
                    endDate:    $('#EndDate').val(),
                    logOrEmpName: $('#logname-empname').val()
                }
            },
            columns: [
                { data: "ModuleId", width: "5%" },
                { data: "ModuleName" },
                { data: "LogName" },
                { data: "LastKnownStatus" },
                { data: "Action" },
                { data: "ActionDate" },
                { data: "RequesterId" },
                { data: "RequesterName" },
                { data: "AssignedToId" },
                { data: "AssignedToName" },
                { data: "Reason" },
                { data: "RequesterComments" }
            ],

            initComplete: function (settings, json) {
                $(".please-wait").slideUp(500);

                $("th").removeClass('sorting_desc');
                $("th").removeClass('sorting_asc');
                $("th.sorting_desc, th.sorting_asc").css('cursor', 'default');
            }

        }); // logActivityTbl

        // Set page length
        logActivityTbl.page.len(length);

        $('#tbl-report').on('length.dt', function (e, settings, len) {
            $("input[name='pageSizeSelected']").val(len);
        });

    });
</script>

