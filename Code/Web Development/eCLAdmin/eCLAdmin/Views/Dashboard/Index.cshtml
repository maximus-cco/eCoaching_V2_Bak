@model eCLAdmin.ViewModels.DashboardIndexViewModel

@{
    ViewBag.Title = "Home Page";
}

<div class="row">
    <div class="col-lg-12">
        <div class="pull-left">
            <h3>Dashboard <span class="text-muted small"><em>@Html.Label(Model.SelectedMonthYear, new { id = "lbl-month" })</em></span></h3>
        </div>
            
        @using (Ajax.BeginForm("FetchDataByMonth", "Dashboard", FormMethod.Post,
                new AjaxOptions
                {
                    InsertionMode = InsertionMode.Replace,
                    HttpMethod = "POST",
                    UpdateTargetId = "dashboard",
                    OnBegin = "showSpinner",
                    OnComplete = "hideSpinner",
                    OnFailure = "handleAjaxError"
                },

                new { id = "filert-form"}
            ))

        {
            <div class="pull-right" style="margin-top: 30px; margin-bottom: 10px;">
                @Html.DropDownListFor(x => x.SelectedMonthYear, Model.Months, new { @id = "ddl-month" })
            </div>
        }
        <div class="clearfix"></div>
        </div>
    <!-- /.col-lg-12 -->
</div>

<div id="dashboard">
    @Html.Partial("_Dashboard")
</div>

@Scripts.Render("~/bundles/scripts/dashboardIndex")

